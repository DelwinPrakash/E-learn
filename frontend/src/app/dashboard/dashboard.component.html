<div class="dashboard-container">
  <!-- Sidebar -->
  <div class="sidebar" [class.collapsed]="isSidebarCollapsed">
    <div class="sidebar-header">
      <div class="sidebar-logo">📚 EduLearn</div>
      <button class="toggle-btn" (click)="toggleSidebar()">
        {{ isSidebarCollapsed ? '→' : '←' }}
      </button>
    </div>

    <div class="menu-section">
      <div class="menu-title">Overview</div>
      <ul class="menu-list">
        <li *ngFor="let item of menuItems.overview" 
            class="menu-item" 
            [class.active]="activeSection === item.route"
            (click)="selectMenuItem(item.route)">
          <span class="menu-icon">{{ item.icon }}</span>
          <span class="menu-text">{{ item.name }}</span>
        </li>
      </ul>
    </div>

    <div class="menu-section">
      <div class="menu-title">Learn</div>
      <ul class="menu-list">
        <li *ngFor="let item of menuItems.learn" 
            class="menu-item" 
            [class.active]="activeSection === item.route"
            (click)="selectMenuItem(item.route)">
          <span class="menu-icon">{{ item.icon }}</span>
          <span class="menu-text">{{ item.name }}</span>
        </li>
      </ul>
    </div>

    <div class="menu-section">
      <div class="menu-title">Practice</div>
      <ul class="menu-list">
        <li *ngFor="let item of menuItems.practice" 
            class="menu-item" 
            [class.active]="activeSection === item.route"
            (click)="selectMenuItem(item.route)">
          <span class="menu-icon">{{ item.icon }}</span>
          <span class="menu-text">{{ item.name }}</span>
        </li>
      </ul>
    </div>

    <div class="menu-section">
      <div class="menu-title">Profile</div>
      <ul class="menu-list">
        <li *ngFor="let item of menuItems.profile" 
            class="menu-item" 
            [class.active]="activeSection === item.route"
            (click)="selectMenuItem(item.route)">
          <span class="menu-icon">{{ item.icon }}</span>
          <span class="menu-text">{{ item.name }}</span>
        </li>
      </ul>
    </div>

    <div class="sidebar-footer">
      <button class="theme-toggle" [class.active]="isDarkMode" (click)="toggleTheme()">
        <span class="menu-icon">{{ isDarkMode ? '☀️' : '🌙' }}</span>
        <span class="menu-text">{{ isDarkMode ? 'Light Mode' : 'Dark Mode' }}</span>
      </button>
    </div>
  </div>

  <!-- Main Content -->
  <div class="main-content">
    <!-- Top Navigation -->
    <div class="top-nav">
      <div class="nav-tabs">
        <button *ngFor="let tab of getAllSections()" 
                class="nav-tab" 
                [class.active]="activeTab === tab"
                (click)="selectTab(tab)">
          {{ tab }}
        </button>
      </div>
      <div class="user-actions">
        <button class="logout-btn" (click)="logout()">
          🚪 Logout
        </button>
      </div>
    </div>

    <!-- Content Wrapper -->
    <div class="content-wrapper">
      <!-- Dashboard Section -->
      <div *ngIf="activeSection === 'dashboard'" class="content-section">
        <h1 class="section-title">Welcome back, {{ user.firstName }}! 👋</h1>
        <p style="color: rgba(255, 255, 255, 0.9); font-size: 18px; margin-bottom: 32px;">
          Ready to continue your learning journey? Here's your progress overview.
        </p>

        <!-- Stats Grid -->
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-icon">📚</div>
            <div class="stat-info">
              <h3>12</h3>
              <p>Courses Enrolled</p>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">🎯</div>
            <div class="stat-info">
              <h3>85%</h3>
              <p>Completion Rate</p>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">🏆</div>
            <div class="stat-info">
              <h3>24</h3>
              <p>Achievements</p>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">⏱️</div>
            <div class="stat-info">
              <h3>36h</h3>
              <p>Study Time</p>
            </div>
          </div>
        </div>

        <!-- Quick Actions -->
        <div style="margin-top: 48px;">
          <h2 style="font-size: 28px; font-weight: 800; color: white; margin-bottom: 24px; text-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);">
            Quick Actions
          </h2>
          <div class="stats-grid">
            <div class="stat-card" (click)="selectMenuItem('flashcard')" style="cursor: pointer;">
              <div class="stat-icon">🎴</div>
              <div class="stat-info">
                <h3>Flash Cards</h3>
                <p>Practice with interactive flashcards</p>
              </div>
            </div>
            <div class="stat-card" (click)="selectMenuItem('quiz')" style="cursor: pointer;">
              <div class="stat-icon">📝</div>
              <div class="stat-info">
                <h3>Take Quiz</h3>
                <p>Test your knowledge</p>
              </div>
            </div>
            <div class="stat-card" (click)="selectMenuItem('video-class')" style="cursor: pointer;">
              <div class="stat-icon">🎥</div>
              <div class="stat-info">
                <h3>Video Classes</h3>
                <p>Watch educational content</p>
              </div>
            </div>
            <div class="stat-card" (click)="selectMenuItem('leaderboard')" style="cursor: pointer;">
              <div class="stat-icon">🏆</div>
              <div class="stat-info">
                <h3>Leaderboard</h3>
                <p>See your ranking</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Profile Section -->
      <div *ngIf="activeSection === 'profile'" class="profile-section">
        <div class="profile-card">
          <div class="profile-header">
            <div class="avatar-section">
              <div class="avatar">
                <div class="avatar-text">{{ getInitials() }}</div>
              </div>
            </div>
            <h1 class="profile-name">{{ user.firstName }} {{ user.lastName }}</h1>
          </div>

          <div class="info-section">
            <h2 class="section-heading">Personal Information</h2>
            <div class="input-group">
              <label>Username</label>
              <input 
                type="text" 
                [value]="user.username" 
                (input)="updateUsername($event)"
                placeholder="Enter your username">
            </div>
            <div class="input-row">
              <div class="input-group">
                <label>First Name</label>
                <input 
                  type="text" 
                  [value]="user.firstName" 
                  (input)="updateFirstName($event)"
                  placeholder="First name">
              </div>
              <div class="input-group">
                <label>Last Name</label>
                <input 
                  type="text" 
                  [value]="user.lastName" 
                  (input)="updateLastName($event)"
                  placeholder="Last name">
              </div>
            </div>
            <div class="input-group">
              <label>Email Address</label>
              <input 
                type="email" 
                [value]="user.email" 
                (input)="updateEmail($event)"
                placeholder="Enter your email">
            </div>
          </div>

          <div class="info-section">
            <h2 class="section-heading">Account Settings</h2>
            <div class="input-group">
              <button class="reset-btn" (click)="resetPassword()">
                🔒 Reset Password
              </button>
              <p class="input-hint">We'll send a password reset link to your email</p>
            </div>
          </div>

          <div class="danger-section">
            <h2 class="section-heading danger-heading">Danger Zone</h2>
            <div class="input-group">
              <button class="delete-btn" (click)="deleteAccount()">
                🗑️ Delete Account
              </button>
              <p class="input-hint">This action cannot be undone. All your data will be permanently deleted.</p>
            </div>
          </div>

          <div class="action-section">
            <button class="save-btn" (click)="saveProfile()">
              💾 Save Changes
            </button>
          </div>
        </div>
      </div>

      <!-- Other Sections Placeholder -->
      <div *ngIf="activeSection !== 'dashboard' && activeSection !== 'profile'" class="content-section">
        <h1 class="section-title">{{ getSectionTitle(activeSection) }}</h1>
        <div class="placeholder-text">
          <p>🚀 This section is coming soon!</p>
          <p style="margin-top: 12px; font-size: 16px;">
            We're working hard to bring you the best learning experience.
          </p>
          <button class="action-btn" (click)="selectMenuItem('dashboard')" style="margin-top: 20px;">
            ← Back to Dashboard
          </button>
        </div>
      </div>
    </div>
  </div>
</div>